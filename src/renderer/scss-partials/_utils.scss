// =============================================================================
// Responsive Breakpoints
// =============================================================================
// Mobile:  < 768px
// Tablet:  768px - 1024px
// Desktop: > 1024px
// =============================================================================

$breakpoint-mobile: 768px;
$breakpoint-tablet: 1024px;

// Mobile-first approach
@mixin mobile-only {
  @media only screen and (max-width: #{$breakpoint-mobile - 1px}) {
    @content;
  }
}

@mixin tablet-only {
  @media only screen and (min-width: #{$breakpoint-mobile}) and (max-width: #{$breakpoint-tablet}) {
    @content;
  }
}

@mixin tablet-and-up {
  @media only screen and (min-width: #{$breakpoint-mobile}) {
    @content;
  }
}

@mixin desktop-only {
  @media only screen and (min-width: #{$breakpoint-tablet + 1px}) {
    @content;
  }
}

@mixin desktop-and-down {
  @media only screen and (max-width: #{$breakpoint-tablet}) {
    @content;
  }
}

// =============================================================================
// YouTube-style Grid Columns
// =============================================================================
// Mobile:  1 column
// Tablet:  2-3 columns
// Desktop: 4-5 columns
// =============================================================================

@mixin yt-grid {
  display: grid;
  gap: var(--yt-spacing-md, 16px);

  // Mobile: 1 column
  grid-template-columns: 1fr;

  // Tablet: 2-3 columns
  @include tablet-only {
    grid-template-columns: repeat(2, 1fr);
  }

  @media only screen and (min-width: 900px) and (max-width: #{$breakpoint-tablet}) {
    grid-template-columns: repeat(3, 1fr);
  }

  // Desktop: 4+ columns
  @include desktop-only {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  }
}

// =============================================================================
// Navigation Mixins
// =============================================================================

@mixin is-side-nav-open {
  @at-root {
    .isSideNavOpen &,
    .isSideNavOpen#{&} {
      @content;
    }
  }
}

@mixin are-side-bar-labels-hidden {
  @at-root {
    .hideLabelsSideBar &,
    .hideLabelsSideBar#{&} {
      @content;
    }
  }
}

@mixin fixed-top-bar {
  position: fixed;
  inset-block-start: 60px;
  inset-inline-end: 0;
  inline-size: calc(100% - 80px);
  margin-inline: 0;
  z-index: 3;

  @include is-side-nav-open {
    inline-size: calc(100% - 200px);
  }

  @include are-side-bar-labels-hidden {
    inline-size: calc(100% - 60px);
  }

  @include mobile-only {
    /* stylelint-disable-next-line no-invalid-position-declaration */
    inline-size: 100%;

    @include is-side-nav-open {
      inline-size: 100%;
    }

    @include are-side-bar-labels-hidden {
      inline-size: 100%;
    }
  }
}

// =============================================================================
// YouTube-style Transitions
// =============================================================================

@mixin yt-transition($properties: all) {
  transition-property: $properties;
  transition-duration: var(--transition-duration, 0.2s);
  transition-timing-function: var(--transition-timing, ease);
}

@mixin yt-hover-lift {
  @include yt-transition(transform, box-shadow);

  &:hover {
    transform: translateY(-2px);
  }
}

// =============================================================================
// YouTube-style Card
// =============================================================================

@mixin yt-card {
  background-color: var(--card-bg-color);
  border-radius: var(--yt-border-radius-md, 12px);
  overflow: hidden;
  @include yt-transition(background-color, box-shadow);

  &:hover {
    background-color: var(--yt-bg-hover, var(--side-nav-hover-color));
  }
}

// =============================================================================
// YouTube-style Text Truncation
// =============================================================================

@mixin yt-line-clamp($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}
